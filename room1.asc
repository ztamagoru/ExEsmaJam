// room script file


function room_Load()
{
  player.StopMoving();
  player.x = 120;
  player.y = 165;
  
  Mouse.Mode = eModeWalkto;
}

function room_AfterFadeIn()
{
  // pequeña intro del juego para decirle el objetivo al jugador
    
  cMajo.Say("Hora de acomodar todo.");
  cMajo.Say("Pero...");
  cMajo.Say("¿Por dónde empezar?");
  cMajo.Say("...");
  
  cMajo.SpeechView = VLEFT;
  cMajo.Say("Hmm...");
  
  cMajo.SpeechView = VRIGHT;
  cMajo.Say("Mm...");
  
  cMajo.SpeechView = SPEAK;
  cMajo.Say("Ni que estuviese tan desordenado tampoco.");
}

function on_mouse_click(MouseButton button) {
  if (button == eMouseRight) ClaimEvent();
}

function room_RepExec()
{
  Object *obj = Object.GetAtScreenXY(mouse.x,  mouse.y);
  
  if (obj != null) {
    Mouse.Mode = eModeLookat;
  }
  else {
    Mouse.Mode = eModeWalkto;
  }
}

function oRelojPared_AnyClick()
{
  if (!mouse.IsButtonDown(eMouseLeft)) ClaimEvent();
  else {
    cMajo.Say("No entiendo cómo no se le acabó la pila.");
  }
}

function oAloeVera_AnyClick()
{
  if (!mouse.IsButtonDown(eMouseLeft)) ClaimEvent();
  else {
    cMajo.Say("Mi salvadora en los veranos que pasé.");
  }
}
function room_LeaveRight()
{
  player.ChangeRoom(5);
}
