// room script file

function room_Load()
{
  player.StopMoving();
  player.x = 320;// 70;
  player.y = 175;// 160;
  
  Mouse.Mode = eModeWalkto;
}

function oEspejo_AnyClick()
{
  if (!mouse.IsButtonDown(eMouseLeft)) ClaimEvent();
  else {
    cMajo.Say("La abuela lo tapaba cuando había tormenta.");
  }
}

void reading() {
  if (!mouse.IsButtonDown(eMouseLeft)) ClaimEvent();
  else {
    cMajo.Say("Siempre nos inculcaron el amor por la lectura.");
  }
}

function room_RepExec()
{
  Object *obj = Object.GetAtScreenXY(mouse.x,  mouse.y);
  
  if (obj != null) {
    Mouse.Mode = eModeLookat;
  }
  else {
    Mouse.Mode = eModeWalkto;
  }
}

function room_LeaveLeft()
{
  player.ChangeRoom(1,  290,  160);
}

function oBiblioteca_AnyClick()
{
  reading();
}
function oBiblioteca2_AnyClick()
{
  reading();
}

function oSillon_AnyClick()
{
  if (!mouse.IsButtonDown(eMouseLeft)) ClaimEvent();
  else {
    cMajo.Say("La abuela se pasaba horas leyéndome cuentos.");
  }
}

function oObject5_AnyClick()
{
  if (!mouse.IsButtonDown(eMouseLeft)) ClaimEvent();
  else {
    player.Walk(370,  170, eBlock, eWalkableAreas);
    
    oObject5.Visible = false;
    
    cMajo.Say("¿Y ahora donde dejo esto?");
    cMajo.Say("Podría dejarlo en la sala de momento.");
  }
}
